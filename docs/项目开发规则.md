# GhostPet 项目开发规则

## 测试规则

### Unity MCP 连接测试规则
**必须使用Unity MCP工具进行游戏功能测试**

#### 测试流程：
1. **连接Unity编辑器**
   - 使用 `mcp_unityMCP_manage_editor` 连接Unity编辑器
   - 检查编辑器状态：`get_state`
   - 启动/暂停游戏：`play`/`pause`

2. **检查控制台状态**
   - 使用 `mcp_unityMCP_read_console` 检查错误和警告
   - 清除控制台：`clear`
   - 监控日志：`types: ['log', 'warning', 'error']`

3. **验证游戏对象状态**
   - 使用 `mcp_unityMCP_manage_gameobject` 检查关键对象
   - 查找玩家：`find` + `by_tag` + `Player`
   - 检查组件：`get_components`
   - 验证敌人：`find` + `by_tag` + `Enemy`

4. **获取场景信息**
   - 使用 `mcp_unityMCP_manage_scene` 获取场景层次结构
   - 检查 `get_hierarchy` 了解完整场景状态

#### 为什么必须使用Unity MCP：
- ✅ **实时性**：直接连接Unity编辑器，获取真实运行时状态
- ✅ **准确性**：避免仅凭代码分析而遗漏运行时问题
- ✅ **完整性**：可以检查所有游戏对象、组件、场景状态
- ✅ **调试性**：能够实时修改游戏状态进行测试

#### 禁止的测试方式：
- ❌ 仅通过代码分析判断功能是否正常
- ❌ 不连接Unity编辑器就声称"测试完成"
- ❌ 忽略控制台错误和警告

#### 测试标准：
- 控制台必须无错误和警告
- 所有关键游戏对象必须存在且状态正确
- 游戏功能必须通过实际运行验证

---

## 其他开发规则

### 代码质量规则
- 所有代码修改后必须通过linter检查
- 编译错误必须立即修复
- 运行时警告必须处理

### 项目结构规则
- 临时文件和备份文件必须及时清理
- 文档统一放在 `docs/` 文件夹
- 测试相关文件必须整理归档

### Git提交规则
- 每次提交前必须确保无编译错误
- 提交信息必须清晰描述修改内容
- 临时文件不得提交到版本控制

---

*最后更新：2024年12月19日*
